---
import MainNavigation from '../components/MainNavigation.astro';
import Layout from '../layouts/Layout.astro';


import zj_question from "../data/zj_question.json";

import { getCollection } from 'astro:content';
const allAns = await getCollection('ans_cpp');
const ansSet = new Set(allAns.map(entry => entry.slug));
---

<Layout>
	<MainNavigation />
	<div class="background-grid"></div>
	
	<div class="w-full h-full px-6 pt-12 justify-center items-center overflow-y-auto text-zinc-300">

		<div class="ml-4 mt-6">
			<span class="block text-zinc-400"><span class="text-zinc-300">a001</span> &nbsp;表示有題解</span>
        	<span class="block text-zinc-400"><span class="text-red-600">a001</span> &nbsp;表示題解還未完成</span>
		</div>

		<p class="ml-4 mt-6 text-zinc-400">題解總數：{ansSet.size}</p>

		<div class="ml-4 mb-6 mt-6">
			<span class="text-zinc-400 mr-2">難度分類：</span>
			<span class="p-1 mr-1 rounded-sm border-2 border-green-500 text-green-500 opacity-70">Beginner</span>
			<span class="p-1 mr-1 rounded-sm border-2 border-yellow-500 text-yellow-500 opacity-70">Easy</span>
			<span class="p-1 mr-1 rounded-sm border-2 border-orange-500 text-orange-500 opacity-70">Medium</span>
			<span class="p-1 mr-1 rounded-sm border-2 border-red-500 text-red-500 opacity-70">Hard</span>
		</div>

        <hr class="my-8 text-zinc-600">
		<h2 class="text-xl text-zinc-400 mb-4 mt-4"># 基礎題庫 <small class="text-sm ml-2">( {zj_question.basic.length} )</small></h2>
		{
			zj_question.basic.map(q => {
				const hasPage = ansSet.has(q.number.toString());
				const color = hasPage ? "text-zinc-300" : "text-red-600";
				return(<a class={`inline-block w-12 text-center hover:text-blue-400 ${color}`} href={`/zjans/ans_cpp/${q.number}`}>{q.number}</a>)
			})
		}

		<hr class="my-8 text-zinc-600">
		<h2 class="text-xl text-zinc-400 mb-4"># 競賽題庫 <small class="text-sm ml-2">( {zj_question.contest.length} )</small></h2>
		{
			zj_question.contest.map(q => {
				const hasPage = ansSet.has(q.number.toString());
				const color = hasPage ? "text-zinc-300" : "text-red-600";
				return(<a class={`inline-block w-12 text-center hover:text-blue-400 ${color}`} href={`/zjans/ans_cpp/${q.number}`}>{q.number}</a>)
			})
		}

		<hr class="my-8 text-zinc-600">
		<h2 class="text-xl text-zinc-400 mb-4"># IOI/APCS <small class="text-sm ml-2">( {zj_question.ioi_apcs.length} )</small></h2>
		{
			zj_question.ioi_apcs.map(q => {
				const hasPage = ansSet.has(q.number.toString());
				const color = hasPage ? "text-zinc-300" : "text-red-600";
				return(<a class={`inline-block w-12 text-center hover:text-blue-400 ${color}`} href={`/zjans/ans_cpp/${q.number}`}>{q.number}</a>)
			})
		}

		<hr class="my-8 text-zinc-600">
		<h2 class="text-xl text-zinc-400 mb-4"># UVa 題庫 <small class="text-sm ml-2">( {zj_question.uva.length} )</small></h2>
		{
			zj_question.uva.map(q => {
				const hasPage = ansSet.has(q.number.toString());
				const color = hasPage ? "text-zinc-300" : "text-red-600";
				return(<a class={`inline-block w-12 text-center hover:text-blue-400 ${color}`} href={`/zjans/ans_cpp/${q.number}`}>{q.number}</a>)
			})
		}

		<hr class="my-8 text-zinc-600">
		<h2 class="text-xl text-zinc-400 mb-4"># 原創/不分類題庫 <small class="text-sm ml-2">( {zj_question.uncategorized.length} )</small></h2>
		{
			zj_question.uncategorized.map(q => {
				const hasPage = ansSet.has(q.number.toString());
				const color = hasPage ? "text-zinc-300" : "text-red-600";
				return(<a class={`inline-block w-12 text-center hover:text-blue-400 ${color}`} href={`/zjans/ans_cpp/${q.number}`}>{q.number}</a>)
			})
		}
	</div>

</Layout>
