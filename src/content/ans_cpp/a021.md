---
title: "a021. å¤§æ•¸é‹ç®—"
date: 2025-05-16
tags: ["å¤§æ•¸", "æ•¸å­¸"]
--- 

> çµ¦ä¸€å€‹ç®—å¼<br>
å…¶ä¸­åŒ…å«å…©å€‹å¤§æ•¸ $a, b < 10^{500}$<br>
è¼¸å‡ºè¨ˆç®—çµæœ

***

## è§£æ³•ä¸€ã€æ¨¡æ“¬

### ğŸ”¹ å­—ä¸²æ¨¡æ“¬è¨ˆç®—éç¨‹

#### ALB (a < b ?)

åˆ¤æ–· a æ˜¯å¦ < bï¼Œé€™å€‹å‡½æ•¸å°‡ç”¨æ–¼è¼”åŠ©ä¹‹å¾Œçš„æ¸›æ³•èˆ‡é™¤æ³•<br>
å¦‚æœå­—ä¸²é•·åº¦ä¸åŒå‰‡ç”¨é•·åº¦ (æ•¸å­—ä½æ•¸) åˆ¤æ–·å¤§å°<br>
å¦å‰‡æ ¹æ“šå­—å…¸çºŒåˆ¤æ–·

#### Big Add (+)

æ¨¡æ“¬åŠ æ³•ç›´å¼éç¨‹<br>
ç”±ä½ä½å¾€é«˜ä½è™•ç† (åœ¨å­—ä¸² `s` ä¸­ï¼Œæœ€ä½ä½æ˜¯ `s[s.size()-1]`)<br>
ç”¨ `x` ç´€éŒ„é€²ä½

#### Big Sub (-)

æ¨¡æ“¬æ¸›æ³•ç›´å¼éç¨‹<br>
ç”±ä½ä½å¾€é«˜ä½è™•ç† (åœ¨å­—ä¸² `s` ä¸­ï¼Œæœ€ä½ä½æ˜¯ `s[s.size()-1]`)<br>
ç”¨ `x` ç´€éŒ„å€Ÿä½

#### Big Mul (*)

æ¨¡æ“¬ä¹˜æ³•ç›´å¼éç¨‹<br>

#### Big Div (/)

æ¨¡æ“¬é™¤æ³•ç›´å¼éç¨‹<br>

### âœ… å®Œæ•´ä»£ç¢¼

è©•åˆ†çµæœ(åƒè€ƒ) ï¼š **<font color="#00bb00">AC</font> (2ms, 344KB)**

```cpp
#include <bits/stdc++.h>
using namespace std;

// a < b ?
bool alb(string a, string b){
    if(a.size() != b.size()) return a.size() < b.size();
    return a < b;
}

// +
string bigAdd(string a, string b){
    int size = max(a.size(), b.size());
    string ans;
    
    int x = 0;
    for(int i=0; i<size; i++){
        int ai = i<a.size() ? a[a.size()-i-1]-'0' : 0;
        int bi = i<b.size() ? b[b.size()-i-1]-'0' : 0;
        int res = ai + bi + x;
        
        ans += (res%10 + '0');
        x = res/10;
    }
    if(x > 0) ans += (x + '0');
    
    while(ans.size()>1 && ans.back()=='0') ans.pop_back();
    reverse(ans.begin(), ans.end());
    return ans;
}

// -
string bigSub(string a, string b){
    int size = max(a.size(), b.size());
    string ans;
    
    bool neg = alb(a, b);
    if(neg) swap(a, b);
    
    int x = 0;
    for(int i=0; i<size; i++){
        int ai = i<a.size() ? a[a.size()-i-1]-'0' : 0;
        int bi = i<b.size() ? b[b.size()-i-1]-'0' : 0;
        int res = ai - bi - x;
        
        if(res < 0){
            ans += (res+10 + '0');
            x = 1;
        }
        else{
            ans += (res + '0');
            x = 0;
        }
    }
    
    while(ans.size()>1 && ans.back()=='0') ans.pop_back();
    if(neg) ans += '-';
    reverse(ans.begin(), ans.end());
    return ans;
}

// *
string bigMul(string a, string b){
    int size = a.size() + b.size();
    vector<int> res(size+1, 0);
    string ans;

    for(int i=0; i<a.size(); i++){
        for(int j=0; j<b.size(); j++){
            res[i+j] += (a[a.size()-i-1]-'0')*(b[b.size()-j-1]-'0');
        }
    }

    for(int i=0; i<size; i++){
        ans += res[i]%10 + '0';
        res[i+1] += res[i]/10;
    }

    while(ans.size()>1 && ans.back()=='0') ans.pop_back();
    reverse(ans.begin(), ans.end());
    return ans;
}

// /
string bigDiv(string a, string b){
    string ans, cur;
    bool ignore0 = true;
    
    for(int i=0; i<a.size(); i++){
        cur.push_back(a[i]);
        int res = 0;
        while(!alb(cur, b)){
            cur = bigSub(cur, b);
            res++;
        }
        
        if(res!=0 || !ignore0){
            ans.push_back(res+'0');
            ignore0 = false;
        }
        
        if(cur == "0") cur = "";
    }

    if(ans == "") return "0";
    return ans;
}

int main(){
    ios::sync_with_stdio(false);
    cin.tie(nullptr);

    string a, b;
    char op;
    cin >> a >> op >> b;
        
    if     (op == '+') cout << bigAdd(a, b);
    else if(op == '-') cout << bigSub(a, b);        
    else if(op == '*') cout << bigMul(a, b);
    else if(op == '/') cout << bigDiv(a, b);

    return 0;
}
```
